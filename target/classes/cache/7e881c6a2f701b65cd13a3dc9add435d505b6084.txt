{"sha":"7e881c6a2f701b65cd13a3dc9add435d505b6084","commit":{"url":"https://api.github.com/repos/lisamariewatkins/Pawsitive/git/commits/7e881c6a2f701b65cd13a3dc9add435d505b6084","message":"added netowrking model and switched from gson to moshi"},"url":"https://api.github.com/repos/lisamariewatkins/Pawsitive/commits/7e881c6a2f701b65cd13a3dc9add435d505b6084","files":[{"sha":"05231131a70fd5e370af6876008f84ae18316b0b","filename":"gradle.properties","status":"modified","additions":1,"changes":2,"patch":"@@ -13,7 +13,7 @@ org.gradle.jvmargs\u003d-Xmx1536m\n # org.gradle.parallel\u003dtrue\n # Kotlin code style for this project: \"official\" or \"obsolete\":\n kotlin.code.style\u003dofficial\n-nav_version \u003d 1.0.0-beta02\n+nav_version \u003d 1.0.0-rc02\n lifecycle_version \u003d 2.0.0\n #androidx\n android.useAndroidX\u003dtrue"},{"sha":"1af33718bef1735df5c117a2f6a010ffb703c003","filename":"network/build.gradle","status":"modified","additions":1,"changes":2,"patch":"@@ -31,7 +31,7 @@ dependencies {\n \n     implementation \u0027com.google.code.gson:gson:2.8.5\u0027\n     implementation \u0027com.squareup.retrofit2:retrofit:2.4.0\u0027\n-    implementation \u0027com.squareup.retrofit2:converter-gson:2.4.0\u0027\n+    implementation \"com.squareup.retrofit2:converter-moshi:2.4.0\"\n \n     implementation \u0027com.android.support:appcompat-v7:28.0.0\u0027\n     testImplementation \u0027junit:junit:4.12\u0027"},{"sha":"340567956bdb1bbb77b72d50cc6ee7e8fef489c1","filename":"network/src/main/java/com/example/network/RetrofitFactory.kt","status":"modified","additions":3,"changes":6,"patch":"@@ -5,9 +5,9 @@ import okhttp3.Interceptor\n import okhttp3.OkHttpClient\n import okhttp3.Response\n import retrofit2.Retrofit\n-import retrofit2.converter.gson.GsonConverterFactory\n+import retrofit2.converter.moshi.MoshiConverterFactory\n \n-const val BASE_URL \u003d \"http://api.petfinder.com/\";\n+const val BASE_URL \u003d \"https://api.petfinder.com/\";\n const val KEY \u003d \"key\"\n const val FORMAT \u003d \"format\"\n const val JSON \u003d \"json\"\n@@ -38,7 +38,7 @@ class RetrofitFactory {\n             return Retrofit.Builder()\n                 .baseUrl(BASE_URL)\n                 .client(okHttpClient.build())\n-                .addConverterFactory(GsonConverterFactory.create())\n+                .addConverterFactory(MoshiConverterFactory.create())\n                 .build()\n         }\n     }"},{"sha":"3db56503322ae24d36a1cf163efe6335f3947e53","filename":"network/src/main/java/com/example/network/petlist/Model.kt","status":"added","additions":39,"changes":39,"patch":"@@ -0,0 +1,39 @@\n+package com.example.network.petlist\n+\n+import com.google.gson.annotations.SerializedName\n+import com.squareup.moshi.Json\n+\n+data class JsonResponse(@field:Json(name \u003d \"@version\") val version: String,\n+                        @field:Json(name \u003d \"petfinder\") val petFinder: PetFinder)\n+\n+data class PetFinder(@field:Json(name \u003d \"pets\") val pets: PetObject)\n+\n+data class PetObject(@field:Json(name \u003d \"pet\") val pet: List\u003cPet\u003e)\n+\n+data class Pet(\n+//    @field:Json(name \u003d \"options\") val options: Options, todo fix this\n+               @field:Json(name \u003d \"status\") val status: KeyValuePair,\n+               @field:Json(name \u003d \"contact\") val contact: Contact,\n+               @field:Json(name \u003d \"age\") val age: KeyValuePair,\n+               @field:Json(name \u003d \"size\") val size: KeyValuePair,\n+               @field:Json(name \u003d \"id\") val id: KeyValuePair,\n+               @field:Json(name \u003d \"name\") val name: KeyValuePair,\n+               @field:Json(name \u003d \"sex\") val sex: KeyValuePair,\n+               @field:Json(name \u003d \"description\") val description: KeyValuePair,\n+               @field:Json(name \u003d \"mix\") val mix: KeyValuePair,\n+               @field:Json(name \u003d \"shelterId\") val shelterId: KeyValuePair,\n+               @field:Json(name \u003d \"lastUpdate\") val lastUpdate: KeyValuePair,\n+               @field:Json(name \u003d \"animal\") val animal: KeyValuePair)\n+\n+data class Options(@field:Json(name \u003d \"option\") val status: List\u003cKeyValuePair\u003e) // todo fix this\n+\n+data class Contact(@field:Json(name \u003d \"phone\") val phone: KeyValuePair,\n+                   @field:Json(name \u003d \"state\") val state: KeyValuePair,\n+                   @field:Json(name \u003d \"address2\") val address2: KeyValuePair,\n+                   @field:Json(name \u003d \"email\") val email: KeyValuePair,\n+                   @field:Json(name \u003d \"city\") val city: KeyValuePair,\n+                   @field:Json(name \u003d \"zip\") val zip: KeyValuePair,\n+                   @field:Json(name \u003d \"fax\") val fax: KeyValuePair,\n+                   @field:Json(name \u003d \"address1\") val address1: KeyValuePair)\n+\n+data class KeyValuePair(@field:Json(name \u003d \"\\$t\") val value: String)\n\\ No newline at end of file"},{"sha":"280096179f5f11cdc92b9a68f63d82515defd5e5","filename":"network/src/main/java/com/example/network/petlist/PetManager.kt","status":"modified","additions":4,"changes":8,"patch":"@@ -7,14 +7,14 @@ import retrofit2.http.GET\n import retrofit2.http.Query\n \n interface PetManager {\n-    @GET\n-    fun getPetList(@Query(\"location\") location: String): Call\u003cPetRecordList\u003e\n+    @GET(\"pet.find\")\n+    fun getPetList(@Query(\"location\") location: String): Call\u003cJsonResponse\u003e\n }\n \n class PetManagerImpl: PetManager {\n-    val retrofitInstance \u003d RetrofitFactory.retrofit().create(PetManager::class.java)\n+    private val retrofitInstance \u003d RetrofitFactory.retrofit().create(PetManager::class.java)\n \n-    override fun getPetList(location: String): Call\u003cPetRecordList\u003e {\n+    override fun getPetList(location: String): Call\u003cJsonResponse\u003e {\n         return retrofitInstance.getPetList(location)\n     }\n "},{"sha":"b2fd5be430303a7d5d3ccb536ce0772aaf267888","filename":"network/src/main/java/com/example/network/petlist/PetRecordList.kt","status":"removed","additions":0,"changes":5,"patch":"@@ -1,5 +0,0 @@\n-package com.example.network.petlist\n-\n-class PetRecordList {\n-\n-}\n\\ No newline at end of file"},{"sha":"cd992297bda233d60adedb8b68bcafc35e1376e6","filename":"network/src/main/java/com/example/network/petlist/SingleToArray.kt","status":"added","additions":10,"changes":10,"patch":"@@ -0,0 +1,10 @@\n+package com.example.network.petlist\n+\n+import com.squareup.moshi.*\n+\n+\n+@Retention(AnnotationRetention.RUNTIME)\n+@JsonQualifier\n+annotation class SingleToArray {\n+    // todo\n+}\n\\ No newline at end of file"}]}